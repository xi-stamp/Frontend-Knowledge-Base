(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{35:function(t,s,i){},64:function(t,s,i){"use strict";var e=i(35);i.n(e).a},74:function(t,s,i){"use strict";i.r(s);var e=i(61),a=i(62),n=i.n(a),h={name:"ParticleEffectButton",props:{duration:{type:Number,default:1e3},direction:{type:String,default:"left"},easing:{type:[String,Array],default:"easeInOutCubic"},canvasPadding:{type:Number,default:150},particlesAmountCoefficient:{type:Number,default:3},hidden:{type:Boolean,default:!1},oscillationCoefficient:{type:Number,default:20},color:{type:[String,Function],default:"#3eaf7c"},type:{type:String,default:"circle"},drawStyle:{type:String,default:"fill"},size:{type:Number,default:()=>Math.floor(3*Math.random()+1)},speed:{type:Number,default:()=>r(4)}},data(){return{status:this.hidden?"hidden":"normal",progress:0,_progress:null,_particles:null,_rect:{width:0,height:0},_ctx:null,_raf:null,_wrapper:null,_canvas:null,wrapperStyles:{},contentStyles:{},canvasStyles:{}}},watch:{hidden(t,s){const i=this.status;"normal"===i&&t?(this.status="hiding",this._startAnimation()):"hidden"!==i||t||(this.status="showing",this._startAnimation())}},methods:{_startAnimation(){const{duration:t,easing:s,canvasPadding:i}=this,{status:a}=this;this._progress="hiding"===a?0:1,this._particles=[],this._rect=this._wrapper.getBoundingClientRect(),this._canvas.width=this._rect.width+2*i,this._canvas.height=this._rect.height+2*i,this._ctx=this._canvas.getContext("2d"),Object(e.a)({targets:{value:"hiding"===a?0:100},value:"hiding"===a?100:0,duration:t,easing:s,begin:this.onBegin,update:s=>{const i=s.animatables[0].target.value;setTimeout(()=>{this.progress=i}),t&&this._addParticles(i/100)}})},_addParticles(t){const{canvasPadding:s,direction:i,particlesAmountCoefficient:e}=this,{status:a}=this,{width:h,height:r}=this._rect,l="hiding"===a?t-this._progress:this._progress-t,c=this._isHorizontal(),o=(c?h:r)*t+l*("hiding"===a?100:220);this._progress=t;let d=s,p=s;c?d+="left"===i?o:h-o:p+="top"===i?o:r-o;let _=Math.floor(e*(100*l+1));if(_>0)for(;_--;)this._addParticle({x:d+(c?0:h*Math.random()),y:p+(c?r*Math.random():0)});this._raf||(this._raf=n()(this._loop))},_addParticle(t){const{duration:s,size:i,speed:e}=this,{status:a}=this,n=60*s/1e3,h=l(e)?e():e,c=l(i)?i():i;this._particles.push({startX:t.x,startY:t.y,x:"hiding"===a?0:h*-n,y:0,angle:r(360),counter:"hiding"===a?0:n,increase:2*Math.PI/100,life:0,death:"hiding"===a?n-20+40*Math.random():n,speed:h,size:c})},_loop(){this._updateParticles(),this._renderParticles(),this._particles.length?this._raf=n()(this._loop):(this._raf=null,this._cycleStatus(),this.onComplete()),this.change()},_updateParticles(){const{oscillationCoefficient:t}=this,{status:s}=this;for(let i=0;i<this._particles.length;i++){const e=this._particles[i];e.life>e.death?this._particles.splice(i,1):(e.x+=e.speed,e.y=t*Math.sin(e.counter*e.increase),e.life++,e.counter+="hiding"===s?1:-1)}},_renderParticles(){const{color:t,type:s,drawStyle:i}=this,{status:e}=this;this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.fillStyle=this._ctx.strokeStyle=t;for(let t=0;t<this._particles.length;++t){const a=this._particles[t];a.life<a.death&&(this._ctx.translate(a.startX,a.startY),this._ctx.rotate(a.angle*Math.PI/180),this._ctx.globalAlpha="hiding"===e?1-a.life/a.death:a.life/a.death,this._ctx.beginPath(),"circle"===s?this._ctx.arc(a.x,a.y,a.size,0,2*Math.PI):"triangle"===s?(this._ctx.moveTo(a.x,a.y),this._ctx.lineTo(a.x+a.size,a.y+a.size),this._ctx.lineTo(a.x+a.size,a.y-a.size)):"rectangle"===s&&this._ctx.rect(a.x,a.y,a.size,a.size),"fill"===i?this._ctx.fill():"stroke"===i&&(this._ctx.closePath(),this._ctx.stroke()),this._ctx.globalAlpha=1,this._ctx.rotate(-a.angle*Math.PI/180),this._ctx.translate(-a.startX,-a.startY))}},_cycleStatus(){const{status:t}=this;"normal"===t?this.status="hiding":"hidden"===t?this.status="showing":"hiding"===t?this.status="hidden":"showing"===t&&(this.status="normal")},_isHorizontal(){return"left"===this.direction||"right"===this.direction},change(){const{direction:t}=this,{status:s,progress:i}=this;if(this.wrapperStyles={},this.contentStyles={},this.canvasStyles={},"hiding"===s||"showing"===s){const s=this._isHorizontal()?"translateX":"translateY",e=this._isHorizontal()?this._rect.width:this._rect.height,a="left"===t||"top"===t?i:-i,n=Math.ceil(e*a/100);this.$set(this.wrapperStyles,"transform",`${s}(${n}px)`),this.$set(this.contentStyles,"transform",`${s}(${-n}px)`)}else"hidden"===s?(this.$set(this.wrapperStyles,"visibility","hidden"),this.$set(this.canvasStyles,"visibility","hidden")):"normal"===s&&this.$set(this.canvasStyles,"visibility","hidden")},onBegin(){this.$emit("begin")},onComplete(){this.$emit("complete")}},mounted(){this._wrapper=this.$refs._wrapper,this._canvas=this.$refs._canvas}};const r=t=>Math.random()*t-t/2,l=t=>"function"==typeof t;var c=h,o=(i(64),i(3)),d=Object(o.a)(c,function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"particles"},[s("div",{ref:"_wrapper",staticClass:"particles-wrapper",style:this.wrapperStyles},[s("div",{staticClass:"particles-content",style:this.contentStyles},[this._t("default")],2)]),this._v(" "),s("canvas",{ref:"_canvas",staticClass:"particles-canvas",style:this.canvasStyles})])},[],!1,null,"04184bda",null);s.default=d.exports}}]);